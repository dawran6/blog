
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet/less" type="text/css" href="http://dawranliou.com/theme/stylesheet/style.less">
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.1/less.min.js" type="text/javascript"></script>

  <link rel="stylesheet" type="text/css" href="http://dawranliou.com/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="http://dawranliou.com/theme/font-awesome/css/font-awesome.min.css">


    <link href="http://dawranliou.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Daw-Ran Liou's Blog Atom">


    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />


<meta name="author" content="Daw-Ran Liou" />
<meta name="description" content="Make games with Python" />
<meta name="keywords" content="python, game">
<meta property="og:site_name" content="Daw-Ran Liou's Blog"/>
<meta property="og:title" content="First Game Programming Experience with Python and Pyglet under 30 Minutes"/>
<meta property="og:description" content="Make games with Python"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://dawranliou.com/first-game-with-pyglet.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-01-27 10:20:00-08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://dawranliou.com/author/daw-ran-liou.html">
<meta property="article:section" content="Python"/>
<meta property="article:tag" content="python"/>
<meta property="article:tag" content="game"/>
<meta property="og:image" content="http://dawranliou.com//images/pyglet-logo.png">

  <title>Daw-Ran Liou's Blog &ndash; First Game Programming Experience with Python and Pyglet under 30 Minutes</title>

</head>
<body>
  <aside>
    <div>
      <a href="http://dawranliou.com">
        <img src="//en.gravatar.com/userimage/99964636/f9367cffe912e77fa93af6784d93b99e.jpg?size=120" alt="Daw-Ran Liou" title="Daw-Ran Liou">
      </a>
      <h1><a href="http://dawranliou.com">Daw-Ran Liou</a></h1>

<p>Software Developer - Maker</p>

      <ul class="social">
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/randyliou" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/dawranliou" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="https://github.com/dawran6" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-medium" href="https://medium.com/@dawran6" target="_blank"><i class="fa fa-medium"></i></a></li>
        <li><a class="sc-rss" href="//dawranliou.com/feeds/all.atom.xml" target="_blank"><i class="fa fa-rss"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="http://dawranliou.com">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="http://dawranliou.com/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
    <h1 id="first-game-with-pyglet">First Game Programming Experience with Python and Pyglet under 30 Minutes</h1>
    <p>
          Posted on Wed 27 January 2016 in <a href="http://dawranliou.com/category/python.html">Python</a>


        &#8226; 3 min read
    </p>
  </header>


  <div>
    <p><img alt="alt pyglet" src="/images/pyglet-logo.png">
<em>"Pyglet logo" by Pyglet is licensed under <a href="https://bitbucket.org/pyglet/pyglet/raw/ce5be4874dcb90d1ea2374ccafd630fe67bc3027/LICENSE">Alex Holkner</a></em></p>
<p>This is my first experience with game programming,
and also my first time working with the
Python <a href="https://bitbucket.org/pyglet/pyglet/wiki/Home">Pyglet</a> package.
I got to say I feel so much accomplishment even though it’s just a dumb,
simple, ghetto game that could be done within 100 lines of codes.
It really amazes me how things could get done so easily these days.</p>
<p>I was in the <a href="http://www.meetup.com/sfpython/">San Francisco Python Meetup Group</a>
and joined
<a href="http://simeonfranklin.com/talk/pyglet/slides.html">Simeon’s Pyglet tutorial session</a>,
which really gave me a blast.
In his tutorial, he showed some fundamental building blocks for
Pyglet game programming like showing images on window, how to do animation,
listening to keyboard or mouse event, and so on.
After half an hour diving into the tutorial, suddenly he said,
“<em>are you ready to make a game now?</em>”</p>
<p>That was a shock. I don’t even know where to start!
However, the goal was simple, to create a simple game with
50 to 100 lines of code within the next hour.
So I start with the simplest game idea that I could think of —
to dodge whatever falls from the sky.
The more you dodge, the more score you have,
till you got hit and the game’s over.
Simple enough, eh?
Now I’m going to find a nice 8-bit character for my game.
Guess what I found? Mega Man!</p>
<p><em>It’s time to get hands dirty!</em></p>
<p>Surprisingly, the coding process wasn’t as hard as expected.
I don’t have a really good code design for my game so
I simply make incremental progress along the way.
The result might have been chaotic but it turned out
good enough for my little game. This is what I did in order:</p>
<ol>
<li>Make a window</li>
<li>Show a still picture of Mega Man at the bottom of the window</li>
<li>Show a still picture of the ball at the top of the window</li>
<li>Make Pyglet listen to the left and right arrow keys and shifts the Mega Man accordingly</li>
<li>Let Pyglet update the ball position every time the clock ticks</li>
<li>Add a Game class that saves the “state of the game”. I’ll explain this later. OOP rocks!</li>
<li>Refactor the code to use a Game object for updating the Mega Man position and the ball position</li>
<li>Add the logic to detect and handle collision between Mega Man and the ball</li>
<li>Add the score label and the score logic</li>
<li>Done!</li>
</ol>
<p>My git repo is here: https://github.com/dawran6/pyglet-tutorial/blob/master/megaman.py.
The code is less than 100 lines so it shouldn’t be hard to
follow even though I didn’t put too much thought on the structure.
Like the famous quote says: “<strong><em>if your first product does not embarrass you,
you are shipping it too late.</em></strong>”
Leave me comments or tweet me @randydliou if you have any thought want to share.</p>
<p>Come back to the step number 6 above.
There’re some good reasons to have a game state class defined in the code:</p>
<ol>
<li>
<p><strong>You don’t need to declare global variable everywhere.</strong>
I don’t like global variables. They make my code harder to maintain.</p>
</li>
<li>
<p><strong>Games are full of states that need to be tracked and
it’s a good idea to wrap those together for clarity.</strong>
In my case, the states I am tracking is the position of Mega Man,
the position of the ball, the score, and if the game is terminated.
If the game gets bigger with more objects on the window, this list could increase a lot.</p>
</li>
</ol>
<p>That’s it! It was a very entertaining and accomplishing experience. I had a lot of fun trying out something new. I think Pyglet did a pretty decent job maintain their documentation. It wasn’t hard for me to find the information that I needed. Highly recommend to give it a try if you’ve never done game programming before!</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://dawranliou.com/tag/python.html">python</a>
      <a href="http://dawranliou.com/tag/game.html">game</a>
    </p>
  </div>




</article>

    <footer>
<p>
  &copy; Daw-Ran Liou 2016 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Daw-Ran Liou's Blog ",
  "url" : "http://dawranliou.com",
  "image": "//en.gravatar.com/userimage/99964636/f9367cffe912e77fa93af6784d93b99e.jpg?size=120",
  "description": "Daw-Ran Liou's Thoughts and Writings"
}
</script>
</body>
</html>